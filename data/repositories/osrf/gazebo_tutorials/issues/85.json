{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo_tutorials.json"}, "html": {"href": "#!/osrf/gazebo_tutorials"}, "avatar": {"href": "data/bytebucket.org/ravatar/{9adb672c-d31a-4c2b-bae4-8d5870291649}ts=1736722"}}, "type": "repository", "name": "gazebo_tutorials", "full_name": "osrf/gazebo_tutorials", "uuid": "{9adb672c-d31a-4c2b-bae4-8d5870291649}"}, "links": {"attachments": {"href": "data/repositories/osrf/gazebo_tutorials/issues/85/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/gazebo_tutorials/issues/85.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo_tutorials/issues/85/watch"}, "comments": {"href": "data/repositories/osrf/gazebo_tutorials/issues/85/comments_page=1.json"}, "html": {"href": "#!/osrf/gazebo_tutorials/issues/85/dem-digital-elevation-models-tutorial-not"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo_tutorials/issues/85/vote"}}, "reporter": {"display_name": "Michael Grey", "uuid": "{c1cdfe52-2887-474c-ae99-72fdc53a59c9}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D"}, "html": {"href": "https://bitbucket.org/%7Bc1cdfe52-2887-474c-ae99-72fdc53a59c9%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:67759e29-d1df-465f-868d-047738e36fc9/d42d74cf-c1bd-4431-8288-07f543bbe325/128"}}, "nickname": "mxgrey", "type": "user", "account_id": "557058:67759e29-d1df-465f-868d-047738e36fc9"}, "title": "DEM (Digital Elevation Models) Tutorial Not Working?", "component": null, "votes": 0, "watches": 1, "content": {"raw": "I'm testing the DEM tutorial, and everything seems okay until I try to load Gazebo with the `volcano.world` file. What I get seems to be mostly blank:\r\n\r\n![dem_tutorial1.png](data/bitbucket.org/repo/RMMxjX/images/1520363635-dem_tutorial1.png)\r\n\r\nZooming in, I can see a green square, but that's about it:\r\n\r\n![dem_tutorial2.png](data/bitbucket.org/repo/RMMxjX/images/3814268314-dem_tutorial2.png)\r\n\r\nThe properties panel shows a Model with one Link which has two visuals (one with a `BOX` type geometry, the other with a `HEIGHTMAP` type geometry):\r\n\r\n![dem_tutorial3.png](data/bitbucket.org/repo/RMMxjX/images/608159491-dem_tutorial3.png)\r\n\r\nRunning in verbose mode, I get this output:\r\n\r\n```\r\nGazebo multi-robot simulator, version 9.0.0\r\nCopyright (C) 2012 Open Source Robotics Foundation.\r\nReleased under the Apache 2 License.\r\nhttp://gazebosim.org\r\n\r\n[Msg] Waiting for master.\r\nGazebo multi-robot simulator, version 9.0.0\r\nCopyright (C) 2012 Open Source Robotics Foundation.\r\nReleased under the Apache 2 License.\r\nhttp://gazebosim.org\r\n\r\n[Msg] Waiting for master.\r\n[Msg] Connected to gazebo master @ http://127.0.0.1:11345\r\n[Msg] Publicized address: 172.23.2.219\r\n[Msg] Connected to gazebo master @ http://127.0.0.1:11345\r\n[Msg] Publicized address: 172.23.2.219\r\n[Wrn] [Event.cc:61] Warning: Deleting a connection right after creation. Make sure to save the ConnectionPtr from a Connect call\r\n[Wrn] [GuiIface.cc:120] void DBusMenuExporterPrivate::addAction(QAction*, int): Already tracking action \"&File\" under id 56\r\n[Wrn] [GuiIface.cc:120] void DBusMenuExporterPrivate::addAction(QAction*, int): Already tracking action \"&Edit\" under id 59\r\n[Wrn] [GuiIface.cc:120] void DBusMenuExporterPrivate::addAction(QAction*, int): Already tracking action \"&Camera\" under id 61\r\n[Wrn] [GuiIface.cc:120] void DBusMenuExporterPrivate::addAction(QAction*, int): Already tracking action \"&View\" under id 64\r\n[Wrn] [GuiIface.cc:120] void DBusMenuExporterPrivate::addAction(QAction*, int): Already tracking action \"&Window\" under id 68\r\n[Wrn] [GuiIface.cc:120] void DBusMenuExporterPrivate::addAction(QAction*, int): Already tracking action \"&Help\" under id 73\r\n[Msg] Loading heightmap: mtsthelens_129\r\n[Msg] Loading heightmap cache data: /home/osrf/.gazebo/paging/mtsthelens_129/gazebo_terrain_00000000.dat\r\n[Msg] Heightmap loaded. Process took: 0.210773 seconds\r\n```\r\n\r\nIt seems to claim that the heightmap loaded, and it doesn't seem like it mentions any problems that would be related to this. Running without verbose mode turned on results in nothing being printed out.\r\n\r\nI don't know if it's related, but earlier in the tutorial I got this warning when running `gdalwarp`:\r\n\r\n```\r\n$  gdalwarp -ts 129 129 /tmp/mtsthelens.dem /tmp/media/dem/mtsthelens_129.dem\r\nWarning: The target file has a 'dem' extension, which is normally used by the USGSDEM driver, but the requested output driver is GTiff. Is it really what you want ?\r\nCreating output file that is 129P x 129L.\r\nProcessing input file /tmp/mtsthelens.dem.\r\nUsing internal nodata values (e.g. -32767) for image /tmp/mtsthelens.dem.\r\nCopying nodata values from source /tmp/mtsthelens.dem to destination /tmp/media/dem/mtsthelens_129.dem.\r\n0...10...20...30...40...50...60...70...80...90...100 - done.\r\n```\r\n\r\nI'm afraid I don't know enough about heightmaps to identify what's going wrong.\r\n\r\nHere's my graphics driver info, in case that's the culprit:\r\n\r\n```\r\ndescription: 3D controller\r\nproduct: NVIDIA Corporation\r\ndescription: VGA compatible controller\r\nproduct: Intel Corporation\r\n```", "markup": "markdown", "html": "<p>I'm testing the DEM tutorial, and everything seems okay until I try to load Gazebo with the <code>volcano.world</code> file. What I get seems to be mostly blank:</p>\n<p><img alt=\"dem_tutorial1.png\" src=\"data/bitbucket.org/repo/RMMxjX/images/1520363635-dem_tutorial1.png\" /></p>\n<p>Zooming in, I can see a green square, but that's about it:</p>\n<p><img alt=\"dem_tutorial2.png\" src=\"data/bitbucket.org/repo/RMMxjX/images/3814268314-dem_tutorial2.png\" /></p>\n<p>The properties panel shows a Model with one Link which has two visuals (one with a <code>BOX</code> type geometry, the other with a <code>HEIGHTMAP</code> type geometry):</p>\n<p><img alt=\"dem_tutorial3.png\" src=\"data/bitbucket.org/repo/RMMxjX/images/608159491-dem_tutorial3.png\" /></p>\n<p>Running in verbose mode, I get this output:</p>\n<div class=\"codehilite\"><pre><span></span>Gazebo multi-robot simulator, version 9.0.0\nCopyright (C) 2012 Open Source Robotics Foundation.\nReleased under the Apache 2 License.\nhttp://gazebosim.org\n\n[Msg] Waiting for master.\nGazebo multi-robot simulator, version 9.0.0\nCopyright (C) 2012 Open Source Robotics Foundation.\nReleased under the Apache 2 License.\nhttp://gazebosim.org\n\n[Msg] Waiting for master.\n[Msg] Connected to gazebo master @ http://127.0.0.1:11345\n[Msg] Publicized address: 172.23.2.219\n[Msg] Connected to gazebo master @ http://127.0.0.1:11345\n[Msg] Publicized address: 172.23.2.219\n[Wrn] [Event.cc:61] Warning: Deleting a connection right after creation. Make sure to save the ConnectionPtr from a Connect call\n[Wrn] [GuiIface.cc:120] void DBusMenuExporterPrivate::addAction(QAction*, int): Already tracking action &quot;&amp;File&quot; under id 56\n[Wrn] [GuiIface.cc:120] void DBusMenuExporterPrivate::addAction(QAction*, int): Already tracking action &quot;&amp;Edit&quot; under id 59\n[Wrn] [GuiIface.cc:120] void DBusMenuExporterPrivate::addAction(QAction*, int): Already tracking action &quot;&amp;Camera&quot; under id 61\n[Wrn] [GuiIface.cc:120] void DBusMenuExporterPrivate::addAction(QAction*, int): Already tracking action &quot;&amp;View&quot; under id 64\n[Wrn] [GuiIface.cc:120] void DBusMenuExporterPrivate::addAction(QAction*, int): Already tracking action &quot;&amp;Window&quot; under id 68\n[Wrn] [GuiIface.cc:120] void DBusMenuExporterPrivate::addAction(QAction*, int): Already tracking action &quot;&amp;Help&quot; under id 73\n[Msg] Loading heightmap: mtsthelens_129\n[Msg] Loading heightmap cache data: /home/osrf/.gazebo/paging/mtsthelens_129/gazebo_terrain_00000000.dat\n[Msg] Heightmap loaded. Process took: 0.210773 seconds\n</pre></div>\n\n\n<p>It seems to claim that the heightmap loaded, and it doesn't seem like it mentions any problems that would be related to this. Running without verbose mode turned on results in nothing being printed out.</p>\n<p>I don't know if it's related, but earlier in the tutorial I got this warning when running <code>gdalwarp</code>:</p>\n<div class=\"codehilite\"><pre><span></span>$  gdalwarp -ts <span class=\"m\">129</span> <span class=\"m\">129</span> /tmp/mtsthelens.dem /tmp/media/dem/mtsthelens_129.dem\nWarning: The target file has a <span class=\"s1\">&#39;dem&#39;</span> extension, which is normally used by the USGSDEM driver, but the requested output driver is GTiff. Is it really what you want ?\nCreating output file that is 129P x 129L.\nProcessing input file /tmp/mtsthelens.dem.\nUsing internal nodata values <span class=\"o\">(</span>e.g. -32767<span class=\"o\">)</span> <span class=\"k\">for</span> image /tmp/mtsthelens.dem.\nCopying nodata values from <span class=\"nb\">source</span> /tmp/mtsthelens.dem to destination /tmp/media/dem/mtsthelens_129.dem.\n<span class=\"m\">0</span>...10...20...30...40...50...60...70...80...90...100 - <span class=\"k\">done</span>.\n</pre></div>\n\n\n<p>I'm afraid I don't know enough about heightmaps to identify what's going wrong.</p>\n<p>Here's my graphics driver info, in case that's the culprit:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">description</span><span class=\"o\">:</span> <span class=\"mi\">3</span><span class=\"n\">D</span> <span class=\"n\">controller</span>\n<span class=\"n\">product</span><span class=\"o\">:</span> <span class=\"n\">NVIDIA</span> <span class=\"n\">Corporation</span>\n<span class=\"n\">description</span><span class=\"o\">:</span> <span class=\"n\">VGA</span> <span class=\"n\">compatible</span> <span class=\"n\">controller</span>\n<span class=\"n\">product</span><span class=\"o\">:</span> <span class=\"n\">Intel</span> <span class=\"n\">Corporation</span>\n</pre></div>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2018-01-25T01:04:16.430084+00:00", "milestone": null, "updated_on": "2018-02-01T21:46:40.627977+00:00", "type": "issue", "id": 85}